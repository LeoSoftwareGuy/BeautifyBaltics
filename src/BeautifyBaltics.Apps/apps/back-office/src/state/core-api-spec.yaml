openapi: 3.0.4
info:
  title: Beautify Baltics Core API
  description: Beautify Baltics Core API for back-office operations
  version: v1
paths:
  /api/v1/bookings:
    get:
      tags:
        - Bookings
      summary: Find bookings
      operationId: FindBookings
      parameters:
        - name: masterId
          in: query
          description: Filter by master id
          schema:
            type: string
            format: uuid
        - name: clientId
          in: query
          description: Filter by client id
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          description: Filter by status
          schema:
            $ref: '#/components/schemas/BookingStatus'
        - name: from
          in: query
          description: Filter by from
          schema:
            type: string
            format: date-time
        - name: to
          in: query
          description: Filter by to
          schema:
            type: string
            format: date-time
        - name: search
          in: query
          description: Search by client name or job title
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindBookingsResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    post:
      tags:
        - Bookings
      summary: Create booking
      operationId: CreateBooking
      requestBody:
        description: Create booking request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBookingRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateBookingRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateBookingResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/bookings/{id}':
    get:
      tags:
        - Bookings
      summary: Get booking by id
      operationId: GetBookingById
      parameters:
        - name: id
          in: path
          description: Booking id
          required: true
          schema:
            type: string
            format: uuid
        - name: id
          in: query
          description: Id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBookingByIdResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/bookings/{id}/reschedule':
    post:
      tags:
        - Bookings
      summary: Reschedule booking
      parameters:
        - name: id
          in: path
          description: Booking id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Reschedule booking request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RescheduleBookingRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/RescheduleBookingRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RescheduleBookingResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/bookings/{id}/cancel':
    post:
      tags:
        - Bookings
      summary: Cancel booking
      description: "Booking can be cancelled by either the master or the client.\r\nBooking cannot be cancelled if it's less than 24 hours before the scheduled time."
      operationId: CancelBooking
      parameters:
        - name: id
          in: path
          description: Booking id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Cancel booking request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelBookingRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CancelBookingRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelBookingResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/bookings/{id}/confirm':
    post:
      tags:
        - Bookings
      summary: Confirm booking
      description: Only the master can confirm a booking.
      operationId: ConfirmBooking
      parameters:
        - name: id
          in: path
          description: Booking id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Confirm booking request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmBookingRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/ConfirmBookingRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfirmBookingResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  /api/v1/clients:
    get:
      tags:
        - Clients
      summary: Find clients
      operationId: FindClients
      parameters:
        - name: firstName
          in: query
          description: Filter by first name
          schema:
            type: string
        - name: lastName
          in: query
          description: Filter by last name
          schema:
            type: string
        - name: email
          in: query
          description: Filter by email address
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindClientsResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    post:
      tags:
        - Clients
      summary: Create client
      operationId: CreateClient
      requestBody:
        description: Create client request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateClientRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateClientRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateClientResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/clients/{id}':
    get:
      tags:
        - Clients
      summary: Get client by id
      operationId: GetClientById
      parameters:
        - name: id
          in: path
          description: Client id
          required: true
          schema:
            type: string
            format: uuid
        - name: id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetClientByIdResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - Clients
      summary: Update client
      operationId: UpdateClientProfile
      parameters:
        - name: id
          in: path
          description: Client id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Update client request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateClientProfileRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateClientProfileRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateClientProfileResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/clients/{id}/profile-image':
    post:
      tags:
        - Clients
      summary: Upload client profile image
      operationId: UploadClientProfileImage
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
                - clientId
                - files
              type: object
              properties:
                clientId:
                  type: string
                  description: Client id
                  format: uuid
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: File uploads
            encoding:
              clientId:
                style: form
              files:
                style: form
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadClientProfileImageResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  /api/v1/jobs:
    get:
      tags:
        - Jobs
      summary: Find paged jobs
      operationId: FindJobs
      parameters:
        - name: text
          in: query
          description: Filter by text
          schema:
            type: string
        - name: categoryId
          in: query
          description: Filter by category
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindJobsResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    post:
      tags:
        - Jobs
      summary: Create a job
      operationId: CreateJob
      requestBody:
        description: Create job request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateJobRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateJobRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateJobResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  /api/v1/jobs/categories:
    get:
      tags:
        - Jobs
      summary: Find paged job categories
      operationId: FindJobCategories
      parameters:
        - name: name
          in: query
          description: Filter by name
          schema:
            type: string
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindJobCategoriesResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/jobs/{id}':
    get:
      tags:
        - Jobs
      summary: Get job by id
      operationId: GetJobById
      parameters:
        - name: id
          in: path
          description: Job id
          required: true
          schema:
            type: string
            format: uuid
        - name: id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetJobByIdResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - Jobs
      summary: Update job
      operationId: UpdateJob
      parameters:
        - name: id
          in: path
          description: Job id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Update job request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateJobRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateJobRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateJobResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  /api/v1/masters:
    get:
      tags:
        - Masters
      summary: Find masters
      operationId: FindMasters
      parameters:
        - name: text
          in: query
          schema:
            type: string
        - name: city
          in: query
          schema:
            type: string
        - name: jobCategoryId
          in: query
          schema:
            type: string
            format: uuid
        - name: minPrice
          in: query
          schema:
            type: number
            format: double
        - name: maxPrice
          in: query
          schema:
            type: number
            format: double
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindMastersResponsePagedResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    post:
      tags:
        - Masters
      summary: Create master
      operationId: CreateMaster
      requestBody:
        description: Create master request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMasterRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateMasterRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateMasterResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}':
    get:
      tags:
        - Masters
      summary: Get a master by id
      operationId: GetMasterById
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: id
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMasterByIdResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    put:
      tags:
        - Masters
      summary: Update master profile
      operationId: UpdateMasterProfile
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Update master request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMasterProfileRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateMasterProfileRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateMasterProfileResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/jobs':
    post:
      tags:
        - Masters
      summary: Create a master job
      operationId: CreateMasterJob
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Create master request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMasterJobRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateMasterJobRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateMasterJobResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    get:
      tags:
        - Masters
      summary: Find master jobs
      operationId: FindMasterJobs
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindMasterJobsResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/images':
    get:
      tags:
        - Masters
      summary: Find all images for a master's jobs
      operationId: FindMasterJobImages
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindMasterJobImagesResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/masters/{id}/jobs/{jobId}':
    delete:
      tags:
        - Masters
      summary: Delete master job
      operationId: DeleteMasterJob
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: jobId
          in: path
          description: Master job id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    put:
      tags:
        - Masters
      summary: Update master job
      operationId: UpdateMasterJob
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: jobId
          in: path
          description: Master job id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Update master job request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMasterJobRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateMasterJobRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateMasterJobResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/masters/{id}/availability':
    post:
      tags:
        - Masters
      summary: Create master availability
      operationId: CreateMasterAvailability
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Create master request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMasterAvailabilityRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateMasterAvailabilityRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateMasterAvailabilityResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    get:
      tags:
        - Masters
      summary: Find master availabilities
      operationId: FindMasterAvailabilities
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: masterId
          in: query
          description: Master identifier
          required: true
          schema:
            type: string
            format: uuid
        - name: startAt
          in: query
          description: Filter by start date (slots starting on or after this date)
          schema:
            type: string
            format: date-time
        - name: endAt
          in: query
          description: Filter by end date (slots ending on or before this date)
          schema:
            type: string
            format: date-time
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindMasterAvailabilitiesResponsePagedResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/availability/{availabilityId}':
    put:
      tags:
        - Masters
      summary: Update master availability
      operationId: UpdateMasterAvailability
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: availabilityId
          in: path
          description: Availability id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        description: Update master availability request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMasterAvailabilityRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateMasterAvailabilityRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateMasterAvailabilityResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    get:
      tags:
        - Masters
      summary: Get master availability by id
      operationId: GetMasterAvailability
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: availabilityId
          in: path
          description: Availability id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMasterAvailabilityResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - Masters
      summary: Delete master availability
      operationId: DeleteMasterAvailability
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: availabilityId
          in: path
          description: Availability id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/available-slots':
    get:
      tags:
        - Masters
      summary: Get available time slots for booking
      operationId: GetAvailableTimeSlots
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: masterId
          in: query
          description: Master identifier
          required: true
          schema:
            type: string
            format: uuid
        - name: date
          in: query
          description: The date to get available slots for
          required: true
          schema:
            type: string
            format: date-time
        - name: serviceDurationMinutes
          in: query
          description: Duration of the service in minutes
          required: true
          schema:
            type: integer
            format: int32
        - name: slotIntervalMinutes
          in: query
          description: 'Interval between slot start times in minutes (default: 30)'
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetAvailableTimeSlotsResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/profile-image':
    post:
      tags:
        - Masters
      summary: Upload master profile image
      operationId: UploadMasterProfileImage
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
                - files
                - masterId
              type: object
              properties:
                masterId:
                  type: string
                  description: Master id
                  format: uuid
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: File uploads
            encoding:
              masterId:
                style: form
              files:
                style: form
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadMasterProfileImageResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    get:
      tags:
        - Masters
      summary: Get master profile image
      operationId: GetMasterProfileImage
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: string
                format: binary
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/masters/{masterId}/jobs/{jobId}/images':
    post:
      tags:
        - Masters
      summary: Upload an image for a master job
      operationId: UploadMasterJobImage
      parameters:
        - name: masterId
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: jobId
          in: path
          description: Master Job id
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          multipart/form-data:
            schema:
              required:
                - files
                - masterId
                - masterJobId
              type: object
              properties:
                masterId:
                  type: string
                  description: Master id
                  format: uuid
                masterJobId:
                  type: string
                  description: Master job id
                  format: uuid
                files:
                  type: array
                  items:
                    type: string
                    format: binary
                  description: File uploads
            encoding:
              masterId:
                style: form
              masterJobId:
                style: form
              files:
                style: form
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UploadMasterJobImageResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{masterId}/jobs/{jobId}/images/{imageId}':
    get:
      tags:
        - Masters
      summary: Get master job image
      operationId: GetMasterJobImageById
      parameters:
        - name: masterId
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: jobId
          in: path
          description: Job id
          required: true
          schema:
            type: string
            format: uuid
        - name: imageId
          in: path
          description: Image id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMasterJobImageByIdResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
    delete:
      tags:
        - Masters
      summary: Delete master job image
      operationId: DeleteMasterJobImage
      parameters:
        - name: masterId
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: jobId
          in: path
          description: Job id
          required: true
          schema:
            type: string
            format: uuid
        - name: imageId
          in: path
          description: Image id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/masters/{id}/dashboard/stats':
    get:
      tags:
        - Masters
      summary: Get dashboard stats for a master
      operationId: GetDashboardStats
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetDashboardStatsResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/masters/{id}/dashboard/earnings':
    get:
      tags:
        - Masters
      summary: Get earnings performance data for a master
      operationId: GetEarningsPerformance
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
        - name: masterId
          in: query
          required: true
          schema:
            type: string
            format: uuid
        - name: period
          in: query
          description: Time period for earnings data grouping
          schema:
            $ref: '#/components/schemas/EarningsPeriod'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetEarningsPerformanceResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  '/api/v1/masters/{id}/dashboard/pending-requests':
    get:
      tags:
        - Masters
      summary: Get pending booking requests for a master
      operationId: GetPendingRequests
      parameters:
        - name: id
          in: path
          description: Master id
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetPendingRequestsResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
  /api/v1/ratings:
    post:
      tags:
        - Ratings
      summary: Create a rating for a completed booking
      description: "Only clients can Create ratings for their completed bookings.\r\nEach booking can only be rated once."
      operationId: CreateRating
      requestBody:
        description: Create rating request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateRatingRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateRatingRequest'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateRatingResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
    get:
      tags:
        - Ratings
      summary: Find ratings
      operationId: FindRatings
      parameters:
        - name: clientId
          in: query
          description: Filter by client ID
          schema:
            type: string
            format: uuid
        - name: bookingId
          in: query
          description: Filter by booking ID
          schema:
            type: string
            format: uuid
        - name: masterId
          in: query
          description: Filter by master ID
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindMasterRatingsResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  '/api/v1/ratings/master/{masterId}':
    get:
      tags:
        - Ratings
      summary: Get ratings for a master
      operationId: GetMasterRatings
      parameters:
        - name: masterId
          in: path
          description: Master ID
          required: true
          schema:
            type: string
            format: uuid
        - name: masterId
          in: query
          description: Master ID to get ratings for
          required: true
          schema:
            type: string
            format: uuid
        - name: page
          in: query
          description: Page number
          schema:
            type: integer
            format: int32
        - name: pageSize
          in: query
          description: Items per page
          schema:
            type: integer
            format: int32
        - name: sortBy
          in: query
          description: Sort by column
          schema:
            type: string
        - name: ascending
          in: query
          description: 'Is sorting order ascending or descending, defaults to false (descending)'
          schema:
            type: boolean
        - name: all
          in: query
          description: Retrieve all items
          schema:
            type: boolean
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetMasterRatingsResponsePagedResponse'
        '422':
          description: Unprocessable Content
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationProblemDetails'
  /api/v1/users:
    get:
      tags:
        - Users
      summary: Gets user
      operationId: GetUser
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetUserResponse'
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProblemDetails'
components:
  schemas:
    AvailableTimeSlotDTO:
      type: object
      properties:
        startAt:
          type: string
          format: date-time
        endAt:
          type: string
          format: date-time
      additionalProperties: false
    BookingCommandDTO:
      required:
        - clientId
        - masterId
        - masterJobId
        - scheduledAt
      type: object
      properties:
        masterId:
          type: string
          description: Id of master
          format: uuid
        clientId:
          type: string
          description: Id of client
          format: uuid
        masterJobId:
          type: string
          description: Id of the master job
          format: uuid
        scheduledAt:
          type: string
          description: The scheduled start time for the booking
          format: date-time
      additionalProperties: false
    BookingDTO:
      required:
        - clientId
        - clientName
        - duration
        - id
        - masterId
        - masterJobCategoryName
        - masterJobId
        - masterJobTitle
        - masterName
        - price
        - scheduledAt
        - status
      type: object
      properties:
        id:
          type: string
          description: ID
          format: uuid
        masterId:
          type: string
          description: Master ID
          format: uuid
        clientId:
          type: string
          description: Client ID
          format: uuid
        masterJobId:
          type: string
          description: Master job ID
          format: uuid
        clientName:
          minLength: 1
          type: string
          description: Client name
        masterName:
          minLength: 1
          type: string
          description: Master name
        masterJobTitle:
          minLength: 1
          type: string
          description: Master job title
        masterJobCategoryName:
          minLength: 1
          type: string
          description: Master job category name
        masterJobCategoryImageUrl:
          type: string
          description: Master job category image URL
          nullable: true
        locationCity:
          type: string
          description: Booking city
          nullable: true
        locationCountry:
          type: string
          description: Booking country
          nullable: true
        locationAddressLine1:
          type: string
          description: Address line 1
          nullable: true
        locationAddressLine2:
          type: string
          description: Address line 2
          nullable: true
        locationPostalCode:
          type: string
          description: Postal code
          nullable: true
        scheduledAt:
          type: string
          description: Scheduled at
          format: date-time
        duration:
          type: string
          description: Duration
          format: date-span
        price:
          type: number
          description: Price
          format: double
        status:
          $ref: '#/components/schemas/BookingStatus'
      additionalProperties: false
    BookingStatus:
      enum:
        - Requested
        - Confirmed
        - Completed
        - Cancelled
      type: string
    CancelBookingRequest:
      required:
        - bookingId
      type: object
      properties:
        bookingId:
          type: string
          description: Booking identifier
          format: uuid
        masterId:
          type: string
          description: Master identifier (if cancelled by master)
          format: uuid
          nullable: true
        clientId:
          type: string
          description: Client identifier (if cancelled by client)
          format: uuid
          nullable: true
      additionalProperties: false
    CancelBookingResponse:
      type: object
      properties:
        bookingId:
          type: string
          format: uuid
      additionalProperties: false
    ClientCommandDTO:
      required:
        - email
        - firstName
        - lastName
        - phoneNumber
      type: object
      properties:
        firstName:
          minLength: 1
          type: string
          description: First name
        lastName:
          minLength: 1
          type: string
          description: Last name
        email:
          minLength: 1
          type: string
          description: Email address
          format: email
        phoneNumber:
          maxLength: 32
          minLength: 1
          type: string
          description: Phone number
      additionalProperties: false
    ClientDTO:
      required:
        - email
        - firstName
        - id
        - lastName
        - phoneNumber
      type: object
      properties:
        id:
          type: string
          description: ID
          format: uuid
        firstName:
          minLength: 1
          type: string
          description: First name
        lastName:
          minLength: 1
          type: string
          description: Last name
        email:
          minLength: 1
          type: string
          description: Email address
        phoneNumber:
          minLength: 1
          type: string
          description: Phone number
        profileImageUrl:
          type: string
          description: Profile image URL
          nullable: true
      additionalProperties: false
    ConfirmBookingRequest:
      required:
        - bookingId
        - masterId
      type: object
      properties:
        bookingId:
          type: string
          description: Booking identifier
          format: uuid
        masterId:
          type: string
          description: Master identifier
          format: uuid
      additionalProperties: false
    ConfirmBookingResponse:
      type: object
      properties:
        bookingId:
          type: string
          format: uuid
      additionalProperties: false
    CreateBookingRequest:
      allOf:
        - $ref: '#/components/schemas/BookingCommandDTO'
        - type: object
          additionalProperties: false
    CreateBookingResponse:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Id of created booking
          format: uuid
      additionalProperties: false
    CreateClientRequest:
      allOf:
        - $ref: '#/components/schemas/ClientCommandDTO'
        - type: object
          additionalProperties: false
    CreateClientResponse:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Id
          format: uuid
      additionalProperties: false
    CreateJobRequest:
      allOf:
        - $ref: '#/components/schemas/JobCommandDTO'
        - type: object
          additionalProperties: false
    CreateJobResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
      additionalProperties: false
    CreateMasterAvailabilityRequest:
      required:
        - availability
        - masterId
      type: object
      properties:
        masterId:
          type: string
          description: Master identifier
          format: uuid
        availability:
          type: array
          items:
            $ref: '#/components/schemas/MasterAvailabilitySlotCommandDTO'
          description: Availability slots
      additionalProperties: false
    CreateMasterAvailabilityResponse:
      required:
        - masterId
      type: object
      properties:
        masterId:
          type: string
          description: Master identifier
          format: uuid
      additionalProperties: false
    CreateMasterJobRequest:
      required:
        - job
        - masterId
      type: object
      properties:
        masterId:
          type: string
          format: uuid
        job:
          $ref: '#/components/schemas/MasterJobOfferingCommandDTO'
      additionalProperties: false
    CreateMasterJobResponse:
      type: object
      properties:
        masterId:
          type: string
          format: uuid
        masterJobId:
          type: string
          format: uuid
      additionalProperties: false
    CreateMasterRequest:
      allOf:
        - $ref: '#/components/schemas/MasterProfileCommandDTO'
        - type: object
          additionalProperties: false
    CreateMasterResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
      additionalProperties: false
    CreateRatingRequest:
      required:
        - bookingId
        - value
      type: object
      properties:
        bookingId:
          type: string
          description: Booking ID to rate
          format: uuid
        value:
          maximum: 5
          minimum: 1
          type: integer
          description: Rating value (1-5)
          format: int32
        comment:
          type: string
          description: Optional comment
          nullable: true
      additionalProperties: false
    CreateRatingResponse:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: ID of created rating
          format: uuid
      additionalProperties: false
    EarningsDataPoint:
      required:
        - label
        - value
      type: object
      properties:
        label:
          minLength: 1
          type: string
          description: 'Label for the data point (e.g., "Mon", "Jan", "2024")'
        value:
          type: number
          description: Earnings value for this period
          format: double
      additionalProperties: false
    EarningsPeriod:
      enum:
        - Weekly
        - Monthly
        - Yearly
      type: string
    FindBookingsResponse:
      allOf:
        - $ref: '#/components/schemas/BookingDTO'
        - type: object
          additionalProperties: false
    FindBookingsResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindBookingsResponse'
          description: Items
      additionalProperties: false
    FindClientsResponse:
      allOf:
        - $ref: '#/components/schemas/ClientDTO'
        - type: object
          additionalProperties: false
    FindClientsResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindClientsResponse'
          description: Items
      additionalProperties: false
    FindJobCategoriesResponse:
      allOf:
        - $ref: '#/components/schemas/JobCategoryDTO'
        - type: object
          additionalProperties: false
    FindJobCategoriesResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindJobCategoriesResponse'
          description: Items
      additionalProperties: false
    FindJobsResponse:
      allOf:
        - $ref: '#/components/schemas/JobDTO'
        - type: object
          additionalProperties: false
    FindJobsResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindJobsResponse'
          description: Items
      additionalProperties: false
    FindMasterAvailabilitiesResponse:
      allOf:
        - $ref: '#/components/schemas/MasterAvailabilitySlotDTO'
        - type: object
          additionalProperties: false
    FindMasterAvailabilitiesResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindMasterAvailabilitiesResponse'
          description: Items
      additionalProperties: false
    FindMasterJobImagesResponse:
      type: object
      properties:
        images:
          type: array
          items:
            $ref: '#/components/schemas/MasterJobImageWithUrlDTO'
          nullable: true
      additionalProperties: false
    FindMasterJobsResponse:
      type: object
      properties:
        jobs:
          type: array
          items:
            $ref: '#/components/schemas/MasterJobDTO'
          nullable: true
      additionalProperties: false
    FindMasterRatingsResponse:
      allOf:
        - $ref: '#/components/schemas/RatingDTO'
        - type: object
          additionalProperties: false
    FindMasterRatingsResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindMasterRatingsResponse'
          description: Items
      additionalProperties: false
    FindMastersResponse:
      allOf:
        - $ref: '#/components/schemas/MasterDTO'
        - type: object
          additionalProperties: false
    FindMastersResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/FindMastersResponse'
          description: Items
      additionalProperties: false
    Gender:
      enum:
        - Male
        - Female
        - Other
      type: string
    GetAvailableTimeSlotsResponse:
      required:
        - slots
      type: object
      properties:
        slots:
          type: array
          items:
            $ref: '#/components/schemas/AvailableTimeSlotDTO'
          nullable: true
      additionalProperties: false
    GetBookingByIdResponse:
      allOf:
        - $ref: '#/components/schemas/BookingDTO'
        - type: object
          additionalProperties: false
    GetClientByIdResponse:
      allOf:
        - $ref: '#/components/schemas/ClientDTO'
        - type: object
          additionalProperties: false
    GetDashboardStatsResponse:
      required:
        - monthlyEarningsAverage
        - monthlyEarningsChange
        - pendingRequestsCount
        - totalBookings
        - totalBookingsChange
      type: object
      properties:
        totalBookings:
          type: integer
          description: Total number of bookings (excluding cancelled)
          format: int32
        totalBookingsChange:
          type: number
          description: Percentage change in bookings compared to previous month
          format: double
        monthlyEarningsAverage:
          type: number
          description: Average monthly earnings from completed bookings
          format: double
        monthlyEarningsChange:
          type: number
          description: Percentage change in earnings compared to previous month
          format: double
        pendingRequestsCount:
          type: integer
          description: Number of pending booking requests
          format: int32
      additionalProperties: false
    GetEarningsPerformanceResponse:
      required:
        - period
        - total
      type: object
      properties:
        period:
          $ref: '#/components/schemas/EarningsPeriod'
        data:
          type: array
          items:
            $ref: '#/components/schemas/EarningsDataPoint'
          description: Earnings data points grouped by the selected period
          nullable: true
        total:
          type: number
          description: Total earnings for the entire period
          format: double
      additionalProperties: false
    GetJobByIdResponse:
      allOf:
        - $ref: '#/components/schemas/JobDTO'
        - type: object
          additionalProperties: false
    GetMasterAvailabilityResponse:
      allOf:
        - $ref: '#/components/schemas/MasterAvailabilitySlotDTO'
        - type: object
          additionalProperties: false
    GetMasterByIdResponse:
      allOf:
        - $ref: '#/components/schemas/MasterDTO'
        - type: object
          additionalProperties: false
    GetMasterJobImageByIdResponse:
      required:
        - fileMimeType
        - fileName
        - fileSize
        - url
      type: object
      properties:
        fileName:
          minLength: 1
          type: string
          description: Image file name
        fileMimeType:
          minLength: 1
          type: string
          description: Image file mime type
        fileSize:
          type: integer
          description: Image file size
          format: int64
        url:
          minLength: 1
          type: string
          description: Direct URL to the image in blob storage
      additionalProperties: false
    GetMasterRatingsResponse:
      allOf:
        - $ref: '#/components/schemas/RatingDTO'
        - type: object
          additionalProperties: false
    GetMasterRatingsResponsePagedResponse:
      required:
        - items
        - page
        - pageCount
        - pageSize
        - totalItemCount
      type: object
      properties:
        page:
          type: integer
          description: Current page number
          format: int64
        pageSize:
          type: integer
          description: Page size
          format: int64
        pageCount:
          type: integer
          description: Total pages count
          format: int64
        totalItemCount:
          type: integer
          description: Total items count
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/GetMasterRatingsResponse'
          description: Items
      additionalProperties: false
    GetPendingRequestsResponse:
      required:
        - totalCount
      type: object
      properties:
        requests:
          type: array
          items:
            $ref: '#/components/schemas/PendingRequestDTO'
          description: List of pending booking requests
          nullable: true
        totalCount:
          type: integer
          description: Total count of pending requests
          format: int32
      additionalProperties: false
    GetUserResponse:
      type: object
      properties:
        id:
          type: string
          format: uuid
        role:
          $ref: '#/components/schemas/UserRole'
        email:
          type: string
          nullable: true
        fullName:
          type: string
          nullable: true
      additionalProperties: false
    JobCategoryDTO:
      required:
        - name
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          nullable: true
        imageUrl:
          type: string
          nullable: true
      additionalProperties: false
    JobCommandDTO:
      required:
        - categoryId
        - durationMinutes
        - name
      type: object
      properties:
        name:
          minLength: 1
          type: string
          description: Name
        categoryId:
          type: string
          description: Category identifier
          format: uuid
        description:
          type: string
          description: Desciption
          nullable: true
        durationMinutes:
          maximum: 1440
          minimum: 1
          type: integer
          description: Duration in minutes
          format: int32
      additionalProperties: false
    JobDTO:
      required:
        - categoryId
        - categoryName
        - description
        - durationMinutes
        - id
        - name
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          minLength: 1
          type: string
        categoryId:
          type: string
          format: uuid
        categoryName:
          minLength: 1
          type: string
        description:
          minLength: 1
          type: string
        durationMinutes:
          maximum: 1440
          minimum: 1
          type: integer
          format: int32
      additionalProperties: false
    MasterAvailabilitySlotCommandDTO:
      required:
        - end
        - start
      type: object
      properties:
        start:
          type: string
          description: Slot starts at
          format: date-time
        end:
          type: string
          description: Slot ends at
          format: date-time
      additionalProperties: false
    MasterAvailabilitySlotDTO:
      required:
        - endAt
        - id
        - masterId
        - masterName
        - startAt
      type: object
      properties:
        id:
          type: string
          description: Identifier
          format: uuid
        masterId:
          type: string
          description: Master identifer
          format: uuid
        masterName:
          minLength: 1
          type: string
          description: Master name
        startAt:
          type: string
          description: Starts at
          format: date-time
        endAt:
          type: string
          description: Ends at
          format: date-time
      additionalProperties: false
    MasterDTO:
      type: object
      properties:
        id:
          type: string
          format: uuid
        firstName:
          type: string
          nullable: true
        lastName:
          type: string
          nullable: true
        age:
          type: integer
          format: int32
          nullable: true
        gender:
          $ref: '#/components/schemas/Gender'
        description:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        phoneNumber:
          type: string
          nullable: true
        rating:
          type: number
          format: double
        latitude:
          type: number
          format: double
          nullable: true
        longitude:
          type: number
          format: double
          nullable: true
        city:
          type: string
          nullable: true
        country:
          type: string
          nullable: true
        addressLine1:
          type: string
          nullable: true
        addressLine2:
          type: string
          nullable: true
        postalCode:
          type: string
          nullable: true
        profileImageUrl:
          type: string
          nullable: true
      additionalProperties: false
    MasterJobDTO:
      required:
        - durationMinutes
        - id
        - images
        - jobCategoryId
        - jobCategoryName
        - jobId
        - jobName
        - price
        - title
      type: object
      properties:
        id:
          type: string
          description: Master job identifier
          format: uuid
        jobId:
          type: string
          description: Job identifier
          format: uuid
        jobCategoryId:
          type: string
          description: Job category identifier
          format: uuid
        jobCategoryName:
          minLength: 1
          type: string
          description: Job category name
        jobName:
          minLength: 1
          type: string
          description: Job name
        title:
          minLength: 1
          type: string
          description: Job title
        price:
          type: number
          description: Job price
          format: double
        durationMinutes:
          type: integer
          description: Job duration in minutes
          format: int32
        images:
          type: array
          items:
            $ref: '#/components/schemas/MasterJobImageDTO'
          description: Job images
      additionalProperties: false
    MasterJobImageDTO:
      required:
        - fileMimeType
        - fileName
        - fileSize
        - id
        - url
      type: object
      properties:
        id:
          type: string
          description: Image identifier
          format: uuid
        fileName:
          minLength: 1
          type: string
          description: Image file name
        fileMimeType:
          minLength: 1
          type: string
          description: Image file mime type
        fileSize:
          type: integer
          description: Image file size
          format: int64
        url:
          minLength: 1
          type: string
          description: Direct URL to the image in blob storage
      additionalProperties: false
    MasterJobImageWithUrlDTO:
      required:
        - fileMimeType
        - fileName
        - fileSize
        - id
        - jobId
        - url
      type: object
      properties:
        id:
          type: string
          description: Image identifier
          format: uuid
        jobId:
          type: string
          description: Master job identifier
          format: uuid
        fileName:
          minLength: 1
          type: string
          description: Image file name
        fileMimeType:
          minLength: 1
          type: string
          description: Image file mime type
        fileSize:
          type: integer
          description: Image file size
          format: int64
        url:
          minLength: 1
          type: string
          description: Direct URL to the image in blob storage
      additionalProperties: false
    MasterJobOfferingCommandDTO:
      required:
        - jobId
        - title
      type: object
      properties:
        jobId:
          type: string
          format: uuid
        title:
          maxLength: 256
          minLength: 1
          type: string
        price:
          minimum: 0
          type: number
          format: double
        durationMinutes:
          maximum: 1440
          minimum: 1
          type: integer
          format: int32
      additionalProperties: false
    MasterProfileCommandDTO:
      required:
        - email
        - firstName
        - lastName
        - phoneNumber
      type: object
      properties:
        firstName:
          maxLength: 128
          minLength: 1
          type: string
        lastName:
          maxLength: 128
          minLength: 1
          type: string
        age:
          maximum: 120
          minimum: 18
          type: integer
          format: int32
          nullable: true
        gender:
          $ref: '#/components/schemas/Gender'
        description:
          maxLength: 1000
          type: string
          nullable: true
        email:
          minLength: 1
          type: string
          format: email
        phoneNumber:
          maxLength: 32
          minLength: 1
          type: string
        latitude:
          maximum: 90
          minimum: -90
          type: number
          format: double
          nullable: true
        longitude:
          maximum: 180
          minimum: -180
          type: number
          format: double
          nullable: true
        city:
          maxLength: 128
          type: string
          nullable: true
        country:
          maxLength: 128
          type: string
          nullable: true
        addressLine1:
          maxLength: 256
          type: string
          nullable: true
        addressLine2:
          maxLength: 256
          type: string
          nullable: true
        postalCode:
          maxLength: 32
          type: string
          nullable: true
      additionalProperties: false
    PendingRequestDTO:
      required:
        - clientId
        - clientName
        - id
        - masterJobTitle
        - price
        - requestedAt
        - scheduledAt
      type: object
      properties:
        id:
          type: string
          description: Booking ID
          format: uuid
        clientId:
          type: string
          description: Client ID
          format: uuid
        clientName:
          minLength: 1
          type: string
          description: Client name
        masterJobTitle:
          minLength: 1
          type: string
          description: Service/job title
        requestedAt:
          type: string
          description: When the booking was requested
          format: date-time
        scheduledAt:
          type: string
          description: Scheduled date and time
          format: date-time
        price:
          type: number
          description: Service price
          format: double
      additionalProperties: false
    ProblemDetails:
      type: object
      properties:
        type:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        detail:
          type: string
          nullable: true
        instance:
          type: string
          nullable: true
      additionalProperties: { }
    RatingDTO:
      required:
        - bookingId
        - clientId
        - clientName
        - id
        - masterName
        - submittedAt
        - value
      type: object
      properties:
        id:
          type: string
          description: Rating ID
          format: uuid
        bookingId:
          type: string
          description: Booking ID
          format: uuid
        clientId:
          type: string
          description: Client ID who submitted the rating
          format: uuid
        clientName:
          minLength: 1
          type: string
          description: Client name
        masterName:
          minLength: 1
          type: string
          description: Master name
        value:
          type: integer
          description: Rating value (1-5)
          format: int32
        comment:
          type: string
          description: Optional comment
          nullable: true
        submittedAt:
          type: string
          description: When the rating was submitted
          format: date-time
      additionalProperties: false
    RescheduleBookingRequest:
      required:
        - bookingId
        - duration
        - scheduledAt
      type: object
      properties:
        bookingId:
          type: string
          description: Booking ID
          format: uuid
        scheduledAt:
          type: string
          description: Schedule date and time
          format: date-time
        duration:
          type: string
          description: Duration of booking
          format: date-span
      additionalProperties: false
    RescheduleBookingResponse:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Id of created booking
          format: uuid
      additionalProperties: false
    UpdateClientProfileRequest:
      allOf:
        - $ref: '#/components/schemas/ClientCommandDTO'
        - required:
            - clientID
          type: object
          properties:
            clientID:
              type: string
              description: Client id
              format: uuid
          additionalProperties: false
    UpdateClientProfileResponse:
      required:
        - id
      type: object
      properties:
        id:
          type: string
          description: Id
          format: uuid
      additionalProperties: false
    UpdateJobRequest:
      allOf:
        - $ref: '#/components/schemas/JobCommandDTO'
        - required:
            - jobId
          type: object
          properties:
            jobId:
              type: string
              description: Job ID
              format: uuid
          additionalProperties: false
    UpdateJobResponse:
      required:
        - jobId
      type: object
      properties:
        jobId:
          type: string
          format: uuid
      additionalProperties: false
    UpdateMasterAvailabilityRequest:
      required:
        - availability
        - masterAvailabilityId
        - masterId
      type: object
      properties:
        masterId:
          type: string
          description: Master identifier
          format: uuid
        masterAvailabilityId:
          type: string
          description: Master availability identifier
          format: uuid
        availability:
          $ref: '#/components/schemas/MasterAvailabilitySlotCommandDTO'
      additionalProperties: false
    UpdateMasterAvailabilityResponse:
      required:
        - masterAvailabilityId
        - masterId
      type: object
      properties:
        masterId:
          type: string
          description: Master identifer
          format: uuid
        masterAvailabilityId:
          type: string
          description: Master availability identifier
          format: uuid
      additionalProperties: false
    UpdateMasterJobRequest:
      required:
        - job
        - masterId
        - masterJobId
      type: object
      properties:
        masterId:
          type: string
          format: uuid
        masterJobId:
          type: string
          format: uuid
        job:
          $ref: '#/components/schemas/MasterJobOfferingCommandDTO'
      additionalProperties: false
    UpdateMasterJobResponse:
      type: object
      properties:
        masterId:
          type: string
          format: uuid
        masterJobId:
          type: string
          format: uuid
      additionalProperties: false
    UpdateMasterProfileRequest:
      allOf:
        - $ref: '#/components/schemas/MasterProfileCommandDTO'
        - required:
            - masterId
          type: object
          properties:
            masterId:
              type: string
              format: uuid
          additionalProperties: false
    UpdateMasterProfileResponse:
      type: object
      properties:
        masterId:
          type: string
          format: uuid
      additionalProperties: false
    UploadClientProfileImageResponse:
      required:
        - clientId
      type: object
      properties:
        clientId:
          type: string
          description: Client id
          format: uuid
      additionalProperties: false
    UploadMasterJobImageResponse:
      type: object
      properties:
        masterId:
          type: string
          format: uuid
        masterJobId:
          type: string
          format: uuid
      additionalProperties: false
    UploadMasterProfileImageResponse:
      required:
        - masterId
      type: object
      properties:
        masterId:
          type: string
          description: Master id
          format: uuid
      additionalProperties: false
    UserRole:
      enum:
        - Client
        - Master
      type: string
    ValidationProblemDetails:
      type: object
      properties:
        type:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
        status:
          type: integer
          format: int32
          nullable: true
        detail:
          type: string
          nullable: true
        instance:
          type: string
          nullable: true
        errors:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
          nullable: true
      additionalProperties: { }
